msgtype,init,16
msgdata,init,gflen,u16,
msgdata,init,globalfeatures,byte,gflen
msgdata,init,lflen,u16,
msgdata,init,localfeatures,byte,lflen
msgtype,open_channel,32
msgdata,open_channel,chain_hash,chain_hash,
msgdata,open_channel,temporary_channel_id,byte,32
msgdata,open_channel,funding_satoshis,u64,
msgdata,open_channel,push_msat,u64,
msgdata,open_channel,dust_limit_satoshis,u64,
msgdata,open_channel,max_htlc_value_in_flight_msat,u64,
msgdata,open_channel,channel_reserve_satoshis,u64,
msgdata,open_channel,htlc_minimum_msat,u64,
msgdata,open_channel,feerate_per_kw,u32,
msgdata,open_channel,to_self_delay,u16,
msgdata,open_channel,max_accepted_htlcs,u16,
msgdata,open_channel,funding_pubkey,point,
msgdata,open_channel,revocation_basepoint,point,
msgdata,open_channel,payment_basepoint,point,
msgdata,open_channel,delayed_payment_basepoint,point,
msgdata,open_channel,htlc_basepoint,point,
msgdata,open_channel,first_per_commitment_point,point,
msgdata,open_channel,channel_flags,byte,
msgdata,open_channel,shutdown_len,u16,,option_upfront_shutdown_script
msgdata,open_channel,shutdown_scriptpubkey,byte,shutdown_len,option_upfront_shutdown_script
msgtype,open_channel2,56
msgdata,open_channel2,chain_hash,chain_hash,
msgdata,open_channel2,temporary_channel_id,byte,32
msgdata,open_channel2,funding_satoshis,u64,
msgdata,open_channel2,push_msat,u64,
msgdata,open_channel2,dust_limit_satoshis,u64,
msgdata,open_channel2,max_htlc_value_in_flight_msat,u64,
msgdata,open_channel2,htlc_minimum_msat,u64,
msgdata,open_channel2,feerate_per_kw,u32,
msgdata,open_channel2,feerate_per_kw_funding,u32,
msgdata,open_channel2,contrib_count,u16,
msgdata,open_channel2,to_self_delay,u16,
msgdata,open_channel2,max_accepted_htlcs,u16,
msgdata,open_channel2,funding_pubkey,point,
msgdata,open_channel2,revocation_basepoint,point,
msgdata,open_channel2,payment_basepoint,point,
msgdata,open_channel2,delayed_payment_basepoint,point,
msgdata,open_channel2,htlc_basepoint,point,
msgdata,open_channel2,first_per_commitment_point,point,
msgdata,open_channel2,channel_flags,byte,
msgdata,open_channel2,opening_tlv,opening_tlvs,
tlvtype,opening_tlvs,option_upfront_shutdown_script,1
tlvdata,opening_tlvs,option_upfront_shutdown_script,shutdown_len,u16,
tlvdata,opening_tlvs,option_upfront_shutdown_script,shutdown_scriptpubkey,byte,shutdown_len
tlvtype,opening_tlvs,moar_types,2
tlvdata,opening_tlvs,moar_types,count_it,u16,
tlvdata,opening_tlvs,moar_types,my_key,point,
msgtype,funding_signed2,60
msgdata,funding_signed2,channel_id,channel_id,
msgdata,funding_signed2,num_witnesses,u16,
msgdata,funding_signed2,witness_stack,witness_stack,num_witnesses
subtype,witness_stack
subtypedata,witness_stack,num_input_witness,u16,
subtypedata,witness_stack,witness_element,witness_element,num_input_witness
subtype,witness_element
subtypedata,witness_element,len,u16,
subtypedata,witness_element,witness,byte,len
#include <wire/onion_defs.h>
msgtype,invalid_realm,PERM|1
msgtype,temporary_node_failure,NODE|2
msgtype,permanent_node_failure,PERM|NODE|2
msgtype,required_node_feature_missing,PERM|NODE|3
msgtype,invalid_onion_version,BADONION|PERM|4
msgdata,invalid_onion_version,sha256_of_onion,sha256,
